package com.hexploits.kc.service.event.external;

import com.hexploits.kc.service.event.internal.KcCommandEvent;
import io.micronaut.configuration.kafka.annotation.KafkaClient;
import io.micronaut.configuration.kafka.annotation.KafkaKey;
import io.micronaut.configuration.kafka.annotation.Topic;
import io.micronaut.context.annotation.Replaces;
import io.micronaut.context.annotation.Requires;

@KafkaClient
@Replaces(IKcEventBrokerStrategy.class)
@Requires(property = "kc.kafka.enabled", value = "true")
public interface KafkaEventBrokerStrategy extends IKcEventBrokerStrategy {

  void emit(@Topic String topicName, @KafkaKey String userUid, KcCommandEvent event);
}
